I have products in elastic search in the following format with variations. I can do all kind of searches if i know the parameters to search. But due nested subcategories some products have different variations than others. 
